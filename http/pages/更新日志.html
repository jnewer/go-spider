<div class="article">            <div class="inner">              <header class="article-header">                <h1 class="article-title" itemprop="name">更新日志</h1>                                <a target="_blank" rel="noopener" href="https://translate.gorm.io/project/go-gorm/zh-CN" class="article-edit-link" title="改进此页面"><i class="fa fa-pencil"></i></a>                              </header>              <div class="article-content" itemprop="articleBody">                <html><head></head><body><h2 id="v2-0-2020-08" class="article-heading"><a href="#v2-0-2020-08" class="headerlink" title="v2.0 - 2020.08"></a>v2.0 - 2020.08<a class="article-anchor" href="#v2-0-2020-08" aria-hidden="true"></a></h2><p>GORM 2.0 是基于用户过去几年中的反馈进行思考后的重写，在该发行版本中将会引入不兼容 API 改动。</p><ul><li>性能优化</li><li>代码模块化</li><li>Context，批量插入，预编译模式，DryRun 模式，Join 预加载，Find To Map，Create From Map，FindInBatches 支持</li><li>SavePoint/RollbackTo/Nested Transaction 支持</li><li>命名参数、Group 条件、Upsert、锁定、优化/索引/评论提示支持、SubQuery 改进</li><li>完整的自引用支持，连接表改进，批量数据的关联模式</li><li>插入时间、更新时间可支持多个字段，加入了对 unix (nano) second 的支持</li><li>字段级权限控制：只读、只写、只创建、只更新、忽略</li><li>全新的插件系统：多数据库，由 Database Resolver 提供的读写分离支持，Prometheus 集成，以及更多…</li><li>全新的 Hook API：带插件的统一接口</li><li>全新的 Migrator：允许为关系创建数据库外键，约束、检查其支持，增强索引支持</li><li>全新的 Logger：context 支持、提高可扩展性</li><li>统一命名策略（表名、字段名、连接表名、外键、检查器、索引名称规则）</li><li>更好的数据类型定义支持（例如 JSON）</li></ul><p><a href="v2_release_note.html">GORM 2.0 Release Note</a></p><h2 id="v1-0-2016-04" class="article-heading"><a href="#v1-0-2016-04" class="headerlink" title="v1.0 - 2016.04"></a>v1.0 - 2016.04<a class="article-anchor" href="#v1-0-2016-04" aria-hidden="true"></a></h2><p><a target="_blank" rel="noopener" href="https://v1.gorm.io/">GORM V1 文档</a></p><p>破坏性变更:</p><ul><li><code>gorm.Open</code> 返回类型是 <code>*gorm.DB</code> 而不是 <code>gorm.DB</code></li><li>Update 只会更新有变更的字段</li><li>开启软删除后，默认只会检查 <code>deleted_at IS NULL</code> 的记录</li><li>根据 <a target="_blank" rel="noopener" href="https://github.com/golang/lint/blob/master/lint.go#L702">golint</a> 实现的新 ToDBname 初始化逻辑，例如 <code>HTTP</code>、<code>URI</code> 会被转换为小写，<code>HTTP</code> 其 db 名称为 <code>http</code> 而不是 <code>h_t_t_p</code>，但对于列表中不包含的其他初始值，例如 <code>SKU</code>，其 db 名称依然为 <code>s_k_u</code>，而此更新已将其修正为 <code>sku</code></li><li><code>RecordNotFound </code> 错误已被重命名为 <code>ErrRecordNotFound </code></li><li><code>mssql</code> 已被重命名为 <code>github.com/jinzhu/gorm/dialects/mssql</code></li><li><code>Hstore</code> 已移至 <code>github.com/jinzhu/gorm/dialects/postgres</code></li></ul></body></html>              </div>                            <div>